         21606771 function calls (21460270 primitive calls) in 42.782 seconds

   Ordered by: cumulative time
   List reduced from 2199 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
  537/321    0.026    0.000   18.693    0.058 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/queue.py:154(get)
        1    0.000    0.000    6.588    6.588 /Users/faisalm/dev/mlx-community/mlx-rag/model.py:48(__call__)
        1    6.366    6.366    6.367    6.367 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/mlx/nn/layers/transformer.py:78(__call__)
        1    0.001    0.001    4.311    4.311 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/common/metadata.py:160(wrapper)
        1    0.000    0.000    4.011    4.011 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/chunking/dispatch.py:69(wrapper)
        1    0.000    0.000    4.011    4.011 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:123(partition_pdf)
        1    0.000    0.000    4.011    4.011 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:251(partition_pdf_or_image)
        1    0.000    0.000    3.954    3.954 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:398(extractable_elements)
        1    0.000    0.000    3.954    3.954 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:422(_partition_pdf_with_pdfminer)
      2/1    0.001    0.000    3.954    3.954 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/utils.py:213(wrapper)
        1    0.023    0.023    3.953    3.953 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:471(_process_pdfminer_pages)
       35    0.000    0.000    3.224    0.092 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf_image/pdfminer_utils.py:84(open_pdfminer_pages_generator)
       34    0.000    0.000    3.088    0.091 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1198(process_page)
    38/34    0.000    0.000    2.108    0.062 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1213(render_contents)
    38/34    0.083    0.002    1.847    0.054 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1233(execute)
99911/99910    0.157    0.000    1.262    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/psparser.py:587(nextobject)
        1    0.000    0.000    1.209    1.209 /Users/faisalm/dev/mlx-community/mlx-rag/vdb.py:57(__init__)
       34    0.000    0.000    0.915    0.027 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/converter.py:85(end_page)
       34    0.001    0.000    0.879    0.026 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/layout.py:906(analyze)
189580/189568    0.191    0.000    0.854    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/psparser.py:503(nexttoken)
        1    0.000    0.000    0.822    0.822 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils_base.py:2855(__call__)
        1    0.000    0.000    0.822    0.822 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils_base.py:2953(_call_one)
        1    0.000    0.000    0.822    0.822 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils_base.py:3171(batch_encode_plus)
     8099    0.006    0.000    0.805    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1112(do_TJ)
     8099    0.008    0.000    0.793    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfdevice.py:102(render_string)
     8099    0.047    0.000    0.780    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfdevice.py:152(render_string_horizontal)
      140    0.000    0.000    0.738    0.005 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils.py:852(get_input_ids)
    91434    0.093    0.000    0.704    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/converter.py:235(render_char)
      140    0.001    0.000    0.640    0.005 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils.py:621(tokenize)
     1564    0.111    0.000    0.509    0.000 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/zipfile/__init__.py:964(read)
      140    0.009    0.000    0.506    0.004 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/models/bert/tokenization_bert.py:158(_tokenize)
        4    0.000    0.000    0.496    0.124 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/requests/sessions.py:500(request)
        4    0.000    0.000    0.493    0.123 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/requests/sessions.py:673(send)
        4    0.000    0.000    0.490    0.123 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:90(send)
        4    0.000    0.000    0.490    0.122 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/requests/adapters.py:590(send)
     3818    0.076    0.000    0.489    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/layout.py:702(group_objects)
        4    0.000    0.000    0.411    0.103 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/urllib3/connectionpool.py:592(urlopen)
        4    0.000    0.000    0.410    0.102 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/urllib3/connectionpool.py:377(_make_request)
        4    0.000    0.000    0.409    0.102 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/urllib3/connection.py:534(getresponse)
      140    0.016    0.000    0.409    0.003 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/models/bert/tokenization_bert.py:299(tokenize)
        4    0.000    0.000    0.407    0.102 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/http/client.py:1384(getresponse)
        4    0.000    0.000    0.407    0.102 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/http/client.py:324(begin)
        4    0.000    0.000    0.404    0.101 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/http/client.py:291(_read_status)
      782    0.001    0.000    0.394    0.001 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/zipfile/__init__.py:1046(_read1)
     2655    0.367    0.000    0.367    0.000 {method 'read' of '_io.BufferedReader' objects}
       96    0.059    0.001    0.351    0.004 {method 'readline' of '_io.BufferedReader' objects}
     1564    0.002    0.000    0.351    0.000 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/zipfile/__init__.py:801(read)
    91434    0.099    0.000    0.349    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/layout.py:355(__init__)
        2    0.000    0.000    0.347    0.174 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/requests/sessions.py:593(get)
        1    0.001    0.001    0.347    0.347 /Users/faisalm/dev/mlx-community/mlx-rag/model.py:125(__init__)


