         21624757 function calls (21476474 primitive calls) in 52.705 seconds

   Ordered by: cumulative time
   List reduced from 2352 to 50 due to restriction <50>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
  771/428    0.030    0.000   25.521    0.060 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/queue.py:154(get)
  1010/98    0.059    0.000   14.638    0.149 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/threading.py:323(wait)
        1    0.001    0.001    6.066    6.066 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/common/metadata.py:160(wrapper)
        1    0.000    0.000    5.755    5.755 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/chunking/dispatch.py:69(wrapper)
        1    0.000    0.000    5.755    5.755 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:123(partition_pdf)
        1    0.001    0.001    5.755    5.755 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:251(partition_pdf_or_image)
        1    0.000    0.000    5.697    5.697 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:398(extractable_elements)
        1    0.000    0.000    5.697    5.697 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf.py:422(_partition_pdf_with_pdfminer)
       35    0.000    0.000    4.905    0.140 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/pdf_image/pdfminer_utils.py:84(open_pdfminer_pages_generator)
       34    0.000    0.000    4.864    0.143 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1198(process_page)
    38/34    0.000    0.000    3.634    0.107 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1213(render_contents)
    38/34    0.092    0.002    3.361    0.099 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1233(execute)
     8099    0.006    0.000    2.346    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfinterp.py:1112(do_TJ)
     8099    0.010    0.000    2.332    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfdevice.py:102(render_string)
     8099    0.052    0.000    2.196    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdfdevice.py:152(render_string_horizontal)
    91434    0.103    0.000    2.127    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/converter.py:235(render_char)
   507/47    0.012    0.000    1.957    0.042 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/threading.py:637(wait)
    91474    1.511    0.000    1.564    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/pdffont.py:1001(to_unichr)
        1    0.000    0.000    1.391    1.391 /Users/faisalm/dev/mlx-community/mlx-rag/model.py:48(__call__)
        1    1.391    1.391    1.391    1.391 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/mlx/nn/layers/transformer.py:78(__call__)
        1    0.000    0.000    1.352    1.352 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils_base.py:2855(__call__)
99911/99910    0.163    0.000    1.310    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/psparser.py:587(nextobject)
      140    0.001    0.000    1.271    0.009 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils.py:852(get_input_ids)
        1    0.000    0.000    1.201    1.201 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils_base.py:2953(_call_one)
        1    0.000    0.000    1.201    1.201 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils_base.py:3171(batch_encode_plus)
        1    0.000    0.000    1.140    1.140 /Users/faisalm/dev/mlx-community/mlx-rag/vdb.py:57(__init__)
       34    0.000    0.000    0.950    0.028 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/converter.py:85(end_page)
       34    0.002    0.000    0.937    0.028 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/layout.py:906(analyze)
189580/189568    0.200    0.000    0.886    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/psparser.py:503(nexttoken)
      140    0.002    0.000    0.659    0.005 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils.py:621(tokenize)
     1121    0.012    0.000    0.604    0.001 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils.py:710(convert_tokens_to_ids)
       39    0.000    0.000    0.585    0.015 /Users/faisalm/.vscode/extensions/ms-python.debugpy-2025.14.1-darwin-arm64/bundled/libs/debugpy/_vendored/pydevd/_pydevd_bundle/pydevd_comm.py:217(_read_line)
       19    0.445    0.023    0.585    0.031 {method 'recv' of '_socket.socket' objects}
    40486    0.010    0.000    0.582    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils.py:732(_convert_token_to_id_with_added_voc)
    37864    0.016    0.000    0.570    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/models/bert/tokenization_bert.py:173(_convert_token_to_id)
39841/38860    0.539    0.000    0.568    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/tokenization_utils_base.py:1105(__getattr__)
      140    0.009    0.000    0.517    0.004 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/models/bert/tokenization_bert.py:158(_tokenize)
     3818    0.082    0.000    0.514    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/layout.py:702(group_objects)
     1564    0.112    0.000    0.498    0.000 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/zipfile/__init__.py:964(read)
        4    0.000    0.000    0.434    0.109 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/requests/sessions.py:500(request)
        4    0.000    0.000    0.431    0.108 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/requests/sessions.py:673(send)
        4    0.000    0.000    0.428    0.107 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/huggingface_hub/utils/_http.py:90(send)
        4    0.000    0.000    0.428    0.107 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/requests/adapters.py:590(send)
        4    0.000    0.000    0.427    0.107 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/urllib3/connectionpool.py:592(urlopen)
        4    0.000    0.000    0.426    0.107 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/urllib3/connectionpool.py:377(_make_request)
      140    0.017    0.000    0.423    0.003 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/transformers/models/bert/tokenization_bert.py:299(tokenize)
     1039    0.003    0.000    0.389    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/unstructured/partition/text.py:111(element_from_text)
      782    0.001    0.000    0.381    0.000 /opt/homebrew/Caskroom/miniconda/base/lib/python3.12/zipfile/__init__.py:1046(_read1)
    91434    0.108    0.000    0.371    0.000 /Users/faisalm/dev/mlx-community/mlx-rag/.rag-env/lib/python3.12/site-packages/pdfminer/layout.py:355(__init__)
     2655    0.346    0.000    0.346    0.000 {method 'read' of '_io.BufferedReader' objects}


